{% extends 'workflow/base.html' %}
{% load static %}

{% block title %}Đánh giá công việc{% endblock %}

{% block extra_head %}
  <link rel="stylesheet" href="{% static 'style.css' %}">
{% endblock %}

{% block content %}
<div class="container mt-4" style="max-width: 900px;">
  <div class="card shadow-sm border-0 rounded-3">
    
    <div class="card-header bg-white border-0 pt-3 pb-3">
      <h5 class="fw-semibold text-primary mb-0">
        <i class="bi bi-star-half"></i> Đánh giá công việc:
        <span class="text-dark">{{ task.title }}</span>
      </h5>
    </div>
    
    <div class="card-body p-4">
      <form method="post" action="{% url 'evaluate_task' task.id %}">
        {% csrf_token %}
        
        <div class="mb-3">
          <label for="{{ form.score.id_for_label }}" class="form-label fw-semibold">{{ form.score.label|default:"Điểm số" }}</label>
          {{ form.score }} {% if form.score.errors %}
            <div class="invalid-feedback d-block">
              {{ form.score.errors.as_text }}
            </div>
          {% endif %}
        </div>
        
        <div class="mb-3">
          <label for="{{ form.comment.id_for_label }}" class="form-label fw-semibold">{{ form.comment.label|default:"Nhận xét" }}</label>
          {{ form.comment }} {% if form.comment.errors %}
            <div class="invalid-feedback d-block">
              {{ form.comment.errors.as_text }}
            </div>
          {% endif %}
        </div>

        <hr class="my-4">
        
        <div class="d-flex justify-content-between align-items-center">
          <a href="{% url 'task_detail' task.id %}" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left-circle"></i> Quay lại
          </a>
          <button type="submit" class="btn btn-success btn-lg fw-semibold">
            <i class="bi bi-check-circle-fill"></i> Lưu đánh giá
          </button>
        </div>
        
      </form>
    </div>
  </div>
</div>
{% endblock %}